<div class ="bike_image" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.2)), url(<%= cl_image_path @bicycle.photo %>);">
</div>
<div class = "container">
  <div class="row" ">
    <div class="col-xs-12 col-md-8">
      <div class = "description_card">
        <h2><%= "#{@bicycle.brand.capitalize} #{@bicycle.model.capitalize}" %></h2>
        <h4><%= @area %></h4>
        <p><%= @bicycle.description %></p>
      </div>
    </div>
    <div class="col-xs-12 col-md-4">
      <div class="booking_card">
        <h2 >£<span id="bike_price"><%= @bicycle.price %></span>/hr</h2>
        <div class="rating">
          <span class="fa fa-star checked"></span>
          <span class="fa fa-star checked"></span>
          <span class="fa fa-star checked"></span>
          <span class="fa fa-star checked"></span>
          <span class="fa fa-star"></span>
          <span>(23)</span>
        </div>
        <%= render 'layouts/components/date_picker.html.erb' %>
        <button id="update-price" class="btn btn-success">Update Price</button>
        <h3 id ="price_text">Price: £ <span id="total-price"></span></h3>
      </div>
    </div>
  </div>
</div>

<script>
  function getHours() {
    if(document.getElementById("booking_date_end").value) {
      var a = document.getElementById('booking_date_start').value
      var b = document.getElementById('booking_date_end').value
      var milliseconds = ((new Date(a)) - (new Date(b)))
      var minutes = milliseconds/(60000)
      var hours = minutes/(60)
      return hours
    };
  }


  var price = document.getElementById("bike_price").innerHTML

  var button = document.getElementById("update-price")
  button.addEventListener("click", function(){
  document.getElementById("total-price").innerHTML = -(getHours() * price)
  })

</script>
